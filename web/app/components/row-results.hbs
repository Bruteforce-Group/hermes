<section>
  <div class="x-container">
    <div class="row-results">
      {{#if @docs}}
        <Hds::Table @isStriped={{false}} class="row-results__table">
          <:head as |H|>
            <H.Tr>
              <H.Th class="name">
                <MaybeSortableTableHeader
                  @changeSort={{@changeSort}}
                  @sortAttribute={{@sortAttribute}}
                  @sortDirection={{@sortDirection}}
                  @attribute="title"
                >
                  Name
                </MaybeSortableTableHeader>
              </H.Th>
              <H.Th class="type">
                <MaybeSortableTableHeader
                  @changeSort={{@changeSort}}
                  @sortAttribute={{@sortAttribute}}
                  @sortDirection={{@sortDirection}}
                  @attribute="docType"
                >
                  Type
                </MaybeSortableTableHeader>
              </H.Th>
              <H.Th class="status">
                <MaybeSortableTableHeader
                  @changeSort={{@changeSort}}
                  @sortAttribute={{@sortAttribute}}
                  @sortDirection={{@sortDirection}}
                  @attribute="status"
                >
                  Status
                </MaybeSortableTableHeader>
              </H.Th>
              <H.Th class="product">
                <MaybeSortableTableHeader
                  @changeSort={{@changeSort}}
                  @sortAttribute={{@sortAttribute}}
                  @sortDirection={{@sortDirection}}
                  @attribute="product"
                >
                  Product/Area
                </MaybeSortableTableHeader>
              </H.Th>
              <H.Th class="owner">
                <MaybeSortableTableHeader
                  @changeSort={{@changeSort}}
                  @sortAttribute={{@sortAttribute}}
                  @sortDirection={{@sortDirection}}
                  @attribute="owners"
                >
                  Owner
                </MaybeSortableTableHeader>
              </H.Th>
              <H.Th class="created">
                {{log "sortDirection" @sortDirection}}
                <MaybeSortableTableHeader
                  @changeSort={{@changeSort}}
                  @sortAttribute={{@sortAttribute}}
                  @sortDirection={{@sortDirection}}
                  @queryParam={{hash
                    sortBy=(if (eq @sortDirection "desc") "dateAsc" "dateDesc")
                    page=1
                  }}
                  @attribute="createdTime"
                  @defaultSortDirection="desc"
                >
                  Created
                </MaybeSortableTableHeader>
              </H.Th>
            </H.Tr>
          </:head>
          <:body>
            {{#each this.shownDocs as |doc|}}
              <Doc::Row
                @avatar="{{get doc.ownerPhotos 0}}"
                @createdDate="{{parse-date doc.created}}"
                @docID="{{doc.objectID}}"
                @docNumber="{{doc.docNumber}}"
                @docType="{{doc.docType}}"
                @owner="{{get doc.owners 0}}"
                @productArea="{{doc.product}}"
                @status="{{lowercase doc.status}}"
                @title="{{doc.title}}"
                @isDraft={{doc.isDraft}}
              />
            {{/each}}
          </:body>
        </Hds::Table>
        {{#if this.toggleCollapsedButtonIsShown}}
          {{! TODO: component-ize this }}
          <Action
            {{on "click" this.toggleCollapsed}}
            class="mt-4 flex items-center text-center text-body-200 text-color-foreground-action hover:text-color-foreground-action-hover"
          >
            <FlightIcon
              data-test-docs-awaiting-review-toggle-icon
              @name={{if @isCollapsed "plus" "minus"}}
              class="mr-1.5"
            />
            {{if @isCollapsed "Show all" "Show fewer"}}
          </Action>
        {{/if}}
        {{#if this.paginationIsShown}}
          <Pagination @nbPages={{@nbPages}} @currentPage={{@currentPage}} />
        {{/if}}
      {{else}}
        <Hds::Alert @type="inline" as |A|>
          <A.Title>No docs found</A.Title>
        </Hds::Alert>
      {{/if}}
    </div>
  </div>
</section>
